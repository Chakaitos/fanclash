<style type="text/css">
tr {
	text-decoration: none;
	font-family: "Century Gothic",CenturyGothic,AppleGothic,sans-serif;
	font-size: 14px;
	color: #eee;
}

.table > thead > tr > th, .table > tbody > tr > th, .table > tfoot > tr > th, .table > thead > tr > td, .table > tbody > tr > td, .table > tfoot > tr > td {
	border-top: 0;
}

tr:nth-child(even) {
	background-color: #2e2e2e;
}

tr:nth-child(odd) {
	background-color: #232323;
}

.table tbody tr:hover td, .table tbody tr:hover th {
	background-color: #151515;
}

td a {
	color: #fcc700;
	font-weight: bold;
}

.mlb-icon {
display: inline-block;
width: 21px;
height: 20px;
background: transparent url("https://www.draftkings.com/_assets/images/icons/sports-sprite.png?2") 0 0 no-repeat;
}

.nba-icon {
	display: inline-block;
width: 21px;
height: 20px;
background: transparent url("https://www.draftkings.com/_assets/images/icons/sports-sprite.png?2") 0 0 no-repeat;
background-position: 0 -40px;
}

.modal-body {
	background: transparent url("https://www.draftkings.com/_assets/images/contest-pop/popup-bg.jpg") 0 0 no-repeat;
}

.modal-content {
    border: 8px solid black;

    -webkit-border-radius: 10px;
    -moz-border-radius: 10px;
    border-radius: 10px;
}

.countdown-timer {
	padding-top: 20px;
	position: absolute;
	width: 209px;
	height: 118px;
	top: 25px;
	right: 30px;
	text-align: center;
	font-size: 17px;
	font-weight: bold;
	background: transparent url("https://www.draftkings.com/_assets/images/contest-pop/countdown-bg.png") 0 0 no-repeat;
	font: 18px "Century Gothic", Arial, Helvetica, sans-serif;
	color: #fff;
}

#contest-pop-timer {
	padding: 5px 10px 12px;
	color: #ffc600;
	font-size: 28px;
}
.start-time {
	padding-top: 9px;
	text-align: center;
	font-size: 14px;
	font-weight: normal;
}

.header-bar {
	font: 20px "nimbus","HelveticaNeue-CondensedBold","Helvetica Neue","Arial Black",Arial,"Lucida Grande",sans-serif;
	text-transform: uppercase;
	padding-top: 20px;
	margin: 0;
	color:white;
}

.header-bar h1 {
	margin-top: 0;
	font-size: 30px;
	margin-bottom: 0;
}

.header-bar h2 {
	font: 18px/18px "Century Gothic",CenturyGothic,AppleGothic,sans-serif;
	margin-top: 0;
}

.tabs {
	position: relative;
	height: 30px;
	background: transparent url("https://www.draftkings.com/_assets/images/contest-pop/tabs-bar.png") bottom left no-repeat;
	margin-bottom: 5px;
	padding-top: 93px;
}

.panel {
	background: transparent url("https://www.draftkings.com/_assets/images/contest-pop/panel-bg.png") 0 38px no-repeat;
	border-bottom: 1px solid #111;
	position: relative;
	margin-bottom: 0;
}

.header1 {
	height: 38px;
	position: relative;
	z-index: 1102;
	background: transparent url("https://www.draftkings.com/_assets/images/contest-pop/header-bar.png") top left no-repeat;
	border-top-left-radius: 10px;
	-moz-border-radius-topleft: 10px;
	border-top-right-radius: 10px;
	-moz-border-radius-topright: 10px;
	margin-bottom: 0;
}

.header1 h3 {
	position: relative;
	text-transform: uppercase;
	color: #fff;
	font: 25px "nimbus","HelveticaNeue-CondensedBold","Helvetica Neue","Arial Black",Arial,"Lucida Grande",sans-serif;
	text-transform: uppercase;
	padding-top: 5px;
	padding-left: 10px;
	margin-bottom: 0;
}

.userslistitem {
	width: 100%;

	height: 40px;
}

.userslistitem:nth-child(even) {
	background-color: #232323;
}

.userslistitem:nth-child(odd) {
	background-color: #2e2e2e;
}

.userslistitem p {
	padding-top: 10px;
	padding-left: 20px;
	color: white;
}

.containerofusers {
   height: 250px; /* Fix a height here */
   overflow: auto; /* Optionally you can also use overflow: scroll; */
}

</style>

<div class="container">
	<h1>Today's Games</h1><br />

<div class="row">
	<div class="col-sm-12">
		<div class="table-scroll-main">
			<table class="table table-hover">
		  	<thead>
		  		<tr>
		  			<th>SPORT</th>
		  			<th>CONTEST</th>
		  			<th>PRIZES</th>
		  			<th>BUY-IN</th>
		  			<th>ENTRIES</th>
		  			<th>LIVE IN</th>
		  			<th>ENTER</th>
		  			<th>LOCKS IN</th>
		  		</tr>
		  	</thead>
		  	<tbody>
					<% @games.each do |game| %>
						<tr>
							<% if game.sport.include? ("MLB") %>
								<td><span class="mlb-icon" title="MLB"></span></td>
							<% elsif game.sport.include? ("Baseball") %>
								<td><span class="mlb-icon" title="MLB"></span></td>
							<% elsif game.sport.include? ("NBA")  %>
								<td><span class="nba-icon" title="NBA"></span></td>
							<% elsif game.sport.include? ("Basketball") %>
								<td><span class="nba-icon" title="NBA"></span></td>
							<% end %>

						  <td><%= link_to "#{game.sport}", "#game#{game.id}", :data => {:toggle => "modal"}, :game => game %></td>
						  <td><%= game.number_to_currency(game.prizes) %></td>
						  <td><%= game.number_to_currency(game.buy_in) %></td>
						  <td><%= game.entries %></td>
						  <td><%= game.start_time.strftime('%d %b, %Y - %I:%M%p (CST)') %></td>
						  <% now = DateTime.now %>
							<% if now < game.start_time %>
							  <td id="countdown-hide-game"><%= link_to 'Play', games_show_path({:id => game.id}) %></td>
	              <td id="countdown-show-game"><a href="live?id=<%= game.id %>">Watch</a></td>
	              <td id="countdown-game-started"><div class="game-countdown" data-start-time="<%= game.start_time.to_i %>"></div></td>
	            <% else %>
	              <td><a href="live?id=<%= game.id %>">Watch</a></td>
	              <td>Locked</td>
	            <% end %>
					  </tr>




					  <div class="modal fade" id="game<%= game.id %>" role="dialog">
					    <div class="modal-dialog" style="width:964px;">
					      <div class="modal-content" >



					          <div class="modal-body" style="height: 529px; padding-top: 0px;">

					          	<div class="header-bar">
					          	        <div class="logo"></div>
					          	        <h1><%= game.sport %></h1>
					          	        <h2>
					          	             <%= game.entries %>
					          	            <span>|</span> <%= game.number_to_currency(game.buy_in) %>
					          	                <span>|</span> <span style="color: #accf1f"><%= game.number_to_currency(game.prizes) %></span>
					          	        </h2>
					          	    </div>

					          	<!-- Timer -->
  						      	<div class="countdown-timer">
  	  	                <label>CONTEST LIVE IN</label>
  	  	                <div id="contest-pop-timer"><div class="game-countdown" data-start-time="<%= game.start_time.to_i %>"></div></div>
  	  	                <div class="start-time"><%= game.start_time.strftime('%d %b at %I:%M%p CST') %></div>
  						      	</div>

  						      	<div class="content">
  						      		<div class="tabs"></div>
  						      		<div class="panel" style="width:47%; float:left;">
  						      			<div class="header1">
  						      				<h3>Entrants</h3>
  						      				<div class="containerofusers">
	  						      				<% users = Game.getAllUsersForGame(game.id) %>
	  						      				<% users.each do |x| %>
	  						      					<div class="userslistitem"><p><%= x.username %></p></div>
	  						      				<% end %>
	  						      			</div>
  						      			</div>
  						      		</div>
  						      		<div class="panel2" style="width:47%; float:left; margin-left: 50px;">
  						      			<div class="header1">
  						      				<h3>Prizes</h3>
  						      			</div>
  						      		</div>

  						      	</div>


					          </div>
					        </div>
					      </div>
					    </div>
					  </div>







					<% end %>
		  	</tbody>
			</table>
		</div>
	</div>
</div>

<%= render 'games/countdown_script' %>
